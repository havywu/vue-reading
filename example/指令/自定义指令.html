<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Index</title>
</head>

<body>
    <div id="app">
       <div v-show="isShow">isShow</div>

       <div style="display: inline-block;height: 100px;width: 100px;background-color: red;" v-clickoutside:arg1.mod1.mod2="value" v-if="isShow">xxxxx</div>
       <button @click="toggleShow">toggleShow</button>
       <button @click="toggleValue">toggleValue</button>
       
    </div>
</body>
<script type="text/javascript" src="../vue.js"></script>
<script type="text/javascript">


/**
 * 
 * @desc 点击元素外面才会触发的事件
 * @example
 * ```vue
 * <div v-element-clickoutside="handleClose">
 * ```
 */
Vue.directive('clickoutside', {
    bind(el, binding, vnode) {
        console.log("bind")
        
    },
    inserted(el, binding, vnode) {

        console.log("inserted")
    },
    update(el, binding, vnode) {
        debugger;
        console.log("update")
    },
    componentUpdated(el, binding, vnode) {
        console.log("componentUpdated")
    },

    unbind(el) {
        console.log("unbind")
    }
});


var vue = new Vue({
    name: "App",
    el: "#app",
   
    data: function() {
        return {
            isShow :true,
            value : 'xxxs'
        }
    },
    methods: {
        toggleShow: function() {
            this.isShow = !this.isShow;
        },
        toggleValue: function() {
            this.value =  Math.random();
        },
        handleUpdate:function(){
            console.log('handleUpdate')
            return Math.random()
        }
    }
})
</script>

</html>